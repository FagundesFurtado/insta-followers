(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5482:(e,t,a)=>{Promise.resolve().then(a.bind(a,5859))},5859:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var r=a(5155),s=a(2115),n=a(4065),o=a(2502),l=a(2596);function i(e){let{children:t,className:a,variant:s="default",padding:n="md",...o}=e;return(0,r.jsx)("div",{className:(0,l.A)("rounded-lg bg-white transition-all duration-200",{"border border-gray-200":"default"===s,"border-2 border-gray-200":"bordered"===s,"border border-gray-200 shadow-md hover:shadow-lg":"elevated"===s},{"p-0":"none"===n,"p-3":"sm"===n,"p-4":"md"===n,"p-6":"lg"===n},a),...o,children:t})}function c(e){let{title:t,description:a,action:s,className:n,...o}=e;return(0,r.jsxs)("div",{className:(0,l.A)("flex items-start justify-between space-y-1.5",n),...o,children:[(0,r.jsxs)("div",{className:"space-y-1",children:[t&&(0,r.jsx)("h3",{className:"text-lg font-semibold leading-none tracking-tight",children:t}),a&&(0,r.jsx)("p",{className:"text-sm text-gray-500",children:a})]}),s&&(0,r.jsx)("div",{className:"flex-shrink-0",children:s})]})}function d(e){let{children:t,className:a,...s}=e;return(0,r.jsx)("div",{className:(0,l.A)("mt-4",a),...s,children:t})}function u(e){let{children:t,className:a,variant:s="default",size:n="md",isLoading:o=!1,disabled:i,fullWidth:c=!1,leftIcon:d,rightIcon:u,...g}=e,h=(0,l.A)("inline-flex items-center justify-center rounded-lg font-medium","transition-all duration-200 ease-in-out","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-none","active:scale-[0.98]",{"w-full":c,"px-3 py-1.5 text-sm":"sm"===n,"px-4 py-2 text-sm":"md"===n,"px-6 py-3 text-base":"lg"===n}),m={default:(0,l.A)("bg-blue-600 text-white","hover:bg-blue-700 active:bg-blue-800","focus:ring-blue-500","shadow-sm hover:shadow-md"),outline:(0,l.A)("border-2 border-blue-600 text-blue-600","hover:bg-blue-50 active:bg-blue-100","focus:ring-blue-400"),ghost:(0,l.A)("text-blue-600","hover:bg-blue-50 active:bg-blue-100","focus:ring-blue-400"),danger:(0,l.A)("bg-red-600 text-white","hover:bg-red-700 active:bg-red-800","focus:ring-red-500","shadow-sm hover:shadow-md"),success:(0,l.A)("bg-green-600 text-white","hover:bg-green-700 active:bg-green-800","focus:ring-green-500","shadow-sm hover:shadow-md"),secondary:(0,l.A)("bg-gray-600 text-white","hover:bg-gray-700 active:bg-gray-800","focus:ring-gray-500","shadow-sm hover:shadow-md")};return(0,r.jsxs)("button",{className:(0,l.A)(h,m[s],a),disabled:i||o,...g,children:[o?(0,r.jsx)("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):d?(0,r.jsx)("span",{className:"mr-2",children:d}):null,t,u&&!o&&(0,r.jsx)("span",{className:"ml-2",children:u})]})}function g(e){let{accounts:t,onAddAccount:a,onDeleteAccount:n}=e,[o,l]=(0,s.useState)(""),[g,h]=(0,s.useState)(!1),[m,b]=(0,s.useState)(null),f=async()=>{if(o.trim()){b(null),h(!0);try{await a(o.trim()),l("")}catch(e){b(e instanceof Error?e.message:"Failed to add account")}finally{h(!1)}}},x=async e=>{if(confirm("Are you sure you want to delete @".concat(e,"?"))){b(null);try{await n(e)}catch(e){b(e instanceof Error?e.message:"Failed to delete account")}}};return(0,r.jsxs)(i,{variant:"elevated",padding:"lg",children:[(0,r.jsx)(c,{title:"Manage Accounts",description:"Add or remove Instagram accounts to track"}),(0,r.jsxs)(d,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"text",value:o,onChange:e=>l(e.target.value),placeholder:"Enter Instagram username",className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyDown:e=>"Enter"===e.key&&f()}),(0,r.jsx)(u,{onClick:f,isLoading:g,disabled:!o.trim()||g,children:"Add Account"})]}),m&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:m}),(0,r.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("span",{className:"font-medium",children:["@",e]}),(0,r.jsx)(u,{variant:"ghost",onClick:()=>x(e),className:"text-red-500 hover:text-red-600 hover:bg-red-50",children:"Delete"})]},e))})]})]})}function h(){var e;let[t,a]=(0,s.useState)([]),[o,l]=(0,s.useState)([]),[h,m]=(0,s.useState)([]),[b,f]=(0,s.useState)(!1),[x,p]=(0,s.useState)(null),[v,w]=(0,s.useState)(!1),[y,j]=(0,s.useState)("followers"),N=async()=>{try{let e=await fetch("/data/accounts.json"),t=await e.json();a(t)}catch(e){console.error("Failed to fetch accounts:",e)}};(0,s.useEffect)(()=>{N()},[]),(0,s.useEffect)(()=>{o.length>0&&(f(!0),p(null),Promise.all(o.map(async e=>{try{let t=await fetch("/data/".concat(e,".json"));if(!t.ok)throw Error("No data file found for ".concat(e));let a=await t.json();return{username:e,history:a.history}}catch(t){throw Error("Failed to fetch data for ".concat(e))}})).then(e=>{m(e)}).catch(e=>{p(e.message)}).finally(()=>{f(!1)}))},[o]);let k=async e=>{throw Error("Account management is not available in static export. Please update accounts.json manually.")},A=async e=>{throw Error("Account management is not available in static export. Please update accounts.json manually.")},C=[{border:"rgb(59, 130, 246)",background:"rgba(59, 130, 246, 0.1)"},{border:"rgb(16, 185, 129)",background:"rgba(16, 185, 129, 0.1)"},{border:"rgb(245, 158, 11)",background:"rgba(245, 158, 11, 0.1)"},{border:"rgb(239, 68, 68)",background:"rgba(239, 68, 68, 0.1)"},{border:"rgb(139, 92, 246)",background:"rgba(139, 92, 246, 0.1)"}],S={labels:(null==(e=h[0])?void 0:e.history.map(e=>e.date))||[],datasets:h.map((e,t)=>({label:"@".concat(e.username),data:e.history.map(e=>{var t;return"followers"===y?e.followers:null!=(t=e.following)?t:0}),borderWidth:2,fill:!0,backgroundColor:C[t%C.length].background,borderColor:C[t%C.length].border,tension:.4,pointRadius:3,pointHoverRadius:5,pointBackgroundColor:C[t%C.length].border,pointBorderColor:"#fff",pointBorderWidth:2}))},E=e=>{l(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,r.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-white px-4 py-8 sm:px-6 sm:py-12",children:(0,r.jsxs)("div",{className:"max-w-5xl mx-auto space-y-8",children:[(0,r.jsxs)("div",{className:"text-center space-y-2",children:[(0,r.jsx)("h1",{className:"text-4xl sm:text-5xl font-black text-blue-700",children:"Instagram Tracker"}),(0,r.jsx)("p",{className:"text-gray-600 text-lg",children:"Compare Instagram follower growth over time"})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(u,{variant:"outline",onClick:()=>w(!v),children:v?"Hide Account Manager":"Manage Accounts"})}),v&&(0,r.jsx)(g,{accounts:t,onAddAccount:k,onDeleteAccount:A}),(0,r.jsxs)(i,{variant:"elevated",padding:"lg",children:[(0,r.jsx)(c,{title:"Select Accounts",description:"Choose accounts to compare their follower growth"}),(0,r.jsx)(d,{children:(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(e=>(0,r.jsxs)(u,{variant:o.includes(e)?"default":"outline",onClick:()=>E(e),className:"min-w-[100px]",children:["@",e]},e))})})]}),o.length>0&&(0,r.jsx)(i,{variant:"elevated",padding:"lg",children:(0,r.jsxs)(d,{children:[(0,r.jsxs)("div",{className:"flex justify-end mb-2",children:[(0,r.jsx)(u,{variant:"followers"===y?"default":"outline",onClick:()=>j("followers"),className:"mr-2",children:"Followers"}),(0,r.jsx)(u,{variant:"following"===y?"default":"outline",onClick:()=>j("following"),children:"Following"})]}),(0,r.jsx)("div",{className:"h-[500px]",children:b?(0,r.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-600 border-t-transparent"})}):x?(0,r.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-red-500",children:x})}):(0,r.jsx)(n.N1,{data:S,options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12,weight:"normal"}}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#1e293b",bodyColor:"#1e293b",borderColor:"#e2e8f0",borderWidth:1,padding:12,boxPadding:6,usePointStyle:!0,callbacks:{label:function(e){return"".concat(e.dataset.label,": ").concat(e.parsed.y.toLocaleString()," ").concat(y)}}},title:{display:!0,text:"followers"===y?"Follower Growth Comparison":"Following Growth Comparison",font:{size:16,weight:"bold"},padding:{top:10,bottom:20}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(226, 232, 240, 0.5)"},ticks:{callback:function(e){return e.toLocaleString()},font:{size:11,weight:"normal"}}},x:{grid:{display:!1},ticks:{font:{size:11,weight:"normal"}}}}}})})]})})]})})}o.t1.register(o.No,o.PP,o.kc,o.FN,o.m_,o.s$,o.dN,o.hE)}},e=>{var t=t=>e(e.s=t);e.O(0,[647,904,441,684,358],()=>t(5482)),_N_E=e.O()}]);